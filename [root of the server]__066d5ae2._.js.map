{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        accent: \"bg-accent text-accent-foreground hover:bg-accent/90\", // Added Accent Variant\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;YACN,QAAQ;QACV;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          // Base styles from specs: h-12 (48px), rounded-md (8px), border, bg-input (#F9F9F9), padding, text-base (16sp)\n          \"flex h-12 w-full rounded-[var(--radius)] border border-border bg-input px-3 py-2 text-base ring-offset-background\",\n          // File input specific styles (keep default)\n          \"file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground\",\n          // Placeholder text style: #9E9E9E (muted-foreground)\n          \"placeholder:text-muted-foreground\",\n          // Focus visible state: default ring\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n          // Disabled state: default\n          \"disabled:cursor-not-allowed disabled:opacity-50\",\n          // Ensure text color is appropriate for the background (usually card-foreground or foreground)\n          \"text-card-foreground\", // Use card-foreground for text on light input bg\n          // Remove responsive text size unless specified\n          // \"md:text-sm\",\n          // Transition for smooth visual changes\n          \"transition-colors duration-200 ease-in-out\",\n           // Remove hover effect unless specified\n          // \"hover:border-primary/50\",\n          className // Allow consuming components to override styles\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+GAA+G;QAC/G,qHACA,4CAA4C;QAC5C,wFACA,qDAAqD;QACrD,qCACA,oCAAoC;QACpC,uGACA,0BAA0B;QAC1B,mDACA,8FAA8F;QAC9F,wBACA,+CAA+C;QAC/C,gBAAgB;QAChB,uCAAuC;QACvC,8CACC,uCAAuC;QACxC,6BAA6B;QAC7B,UAAU,gDAAgD;;QAE5D,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,8OAAC,0KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,0KAAA,CAAA,SAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC,0KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,0KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,0KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n// Use environment variables for sensitive information\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID // Optional\n};\n\n// Initialize Firebase only if it hasn't been initialized yet\nconst firebaseApp = !getApps().length ? initializeApp(firebaseConfig) : getApp();\nconst auth = getAuth(firebaseApp);\nconst db = getFirestore(firebaseApp);\n// const analytics = getAnalytics(firebaseApp); // Initialize Analytics if needed\n\nexport { firebaseApp, auth, db };\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;AACvD;AAAA;AACA;AAAA;AACA;AAAA;;;;AACA,4DAA4D;AAC5D,iEAAiE;AAEjE,wCAAwC;AACxC,mEAAmE;AACnE,sDAAsD;AACtD,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,6DAA6D;AAC7D,MAAM,cAAc,CAAC,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,GAAG,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE,kBAAkB,CAAA,GAAA,oLAAA,CAAA,SAAM,AAAD;AAC7E,MAAM,OAAO,CAAA,GAAA,yOAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28authenticated%29/services/recharge/page.tsx"],"sourcesContent":["\n'use client';\n\nimport * as React from 'react';\nimport Link from 'next/link';\nimport { ArrowRight, Phone, Wifi, CircleDollarSign, Package, Loader2 } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card } from '@/components/ui/card'; // Keep Card for structure\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport Image from 'next/image';\nimport { useToast } from '@/hooks/use-toast';\nimport { cn } from '@/lib/utils';\nimport { getAuth, onAuthStateChanged, type User } from 'firebase/auth'; // Import Firebase Auth and User type\nimport { firebaseApp } from '@/lib/firebase'; // Assuming firebaseApp is initialized here\n\n// Updated operator prefixes based on 4ME structure\nconst operatorPrefixes: { [key: string]: string[] } = {\n  'يمن موبايل': ['77', '78'],\n  'سبأفون': ['71'],\n  'YOU': ['73'], // YOU (MTN)\n  'واي': ['70'], // Explicitly name 'Y' as 'واي'\n  'الهاتف الأرضي': ['01', '02', '03', '04', '05', '06', '07', '08', '09'], // Assuming single digits 0 to 9 for area codes\n  'ADSL': ['01', '02', '03', '04', '05', '06', '07', '08', '09'], // ADSL shares prefixes\n};\n\n\n// Operator logos (ensure these paths exist or use placeholders)\n// Assuming logos directory exists in public/logos/\nconst operatorLogos: { [key: string]: string } = {\n  'يمن موبايل': '/logos/yemen-mobile.png', // Placeholder path\n  'سبأفون': '/logos/sabafon.png',         // Placeholder path\n  'YOU': '/logos/you.png',               // Placeholder path (Represents MTN/YOU)\n  'واي': '/logos/y.png',                 // Placeholder path\n  'الهاتف الأرضي': '/logos/landline.png',   // Placeholder path\n  'ADSL': '/logos/adsl.png',             // Placeholder path\n};\n\n// Placeholder package data (replace with actual API call or data source)\ninterface PackageInfo {\n    id: string;\n    name: string;\n    price: number | string; // Allow string for \"حسب الفاتورة\" etc.\n    description?: string;\n    category?: string; // Optional category for potential grouping later\n}\n\n// Sample data using updated operator names\nconst packagesData: { [key: string]: PackageInfo[] } = {\n  'يمن موبايل': [\n    { id: 'ym1', name: 'باقة موبايلي الشهرية', price: 1500, description: '5GB بيانات + 150 دقيقة + 100 رسالة' },\n    { id: 'ym2', name: 'باقة نت 2 جيجا', price: 700, description: '2GB بيانات صالحة لأسبوع' },\n    { id: 'ym3', name: 'تعبئة رصيد مباشر', price: 'حسب المبلغ', description: 'أدخل مبلغ التعبئة' },\n  ],\n  'سبأفون': [\n    // Updated Sabafon Packages (Using provided data)\n    { id: 'sb-dp-yb-week', name: 'دفع مسبق يابلاش الاسبوعية', price: 484 },\n    { id: 'sb-dp-yb-month', name: 'دفع مسبق يابلاش الشهرية', price: 1210 },\n    { id: 'sb-dp-yb-superplus', name: 'دفع مسبق يابلاش سوبر بلاس', price: 3025 },\n    { id: 'sb-dp-yb-kalam', name: 'دفع مسبق يابلاش كلام- 400 دقيقة- 30يوم', price: 1210 },\n    { id: 'sb-dp-whatsapp-week', name: 'دفع مسبق واتساب الأسبوعية', price: 484 },\n    { id: 'sb-dp-fb-twitter', name: 'دفع مسبق فيسبوك+تويتر', price: 484 },\n    { id: 'sb-dp-fb-month', name: 'دفع مسبق فيسبوك الشهرية', price: 1210 },\n    { id: 'sb-dp-tawasol-extra', name: 'دفع مسبق تواصل اكسترا الشهرية', price: 1029 },\n    { id: 'sb-dp-tawasol-month', name: 'دفع مسبق تواصل الشهرية- فيسبوك', price: 1997 },\n    { id: 'sb-dp-supernet-day', name: 'دفع مسبق سوبرنت اليومية', price: 484 },\n    { id: 'sb-dp-supernet-1', name: 'دفع مسبق سوبرنت 1-250 ميجابايت 30 يوم', price: 1210 },\n    { id: 'sb-dp-supernet-2', name: 'دفع مسبق سوبرنت 2 - 500 ميجابايت 30 يوم', price: 1815 },\n    { id: 'sb-dp-supernet-3', name: 'دفع مسبق سوبرنت 3- 1024 ميجا 30 يوم', price: 3025 },\n    { id: 'sb-dp-supernet-4', name: 'دفع مسبق سوبرنت 4- 4000 ميجا 30يوم', price: 4840 },\n    { id: 'sb-dp-msg-200', name: 'دفع مسبق 200 رسالة', price: 484 },\n    { id: 'sb-dp-msg-600', name: 'دفع مسبق 600 رسالة', price: 726 },\n    { id: 'sb-dp-gsm-week', name: 'دفع مسبق جي إس إم الاسبوعية', price: 1004 },\n    { id: 'sb-dp-wahed-day', name: 'دفع مسبق باقة واحد اليومية لكل الشبكات', price: 508 },\n    { id: 'sb-dp-wahed-month', name: 'دفع مسبق باقة واحد الشهرية لكل الشبكات', price: 1513 },\n    { id: 'sb-dp-wahed-week-all', name: 'باقة واحد الاسبوعية- دفع مسبق لكل الشبكات', price: 811 },\n    { id: 'sb-dp-yb-daily', name: 'دفع مسبق يابلاش اليومية', price: 575 },\n    { id: 'sb-dp-yb-10days', name: 'دفع مسبق يابلاش 10 ايام', price: 847 },\n    { id: 'sb-dp-whatsapp-plus-month', name: 'دفع مسبق واتساب بلاس الشهرية', price: 1573 },\n    { id: 'sb-dp-gsm-month', name: 'دفع مسبق جي اس ام الشهرية', price: 1936 },\n    { id: 'sb-dp-4g-inter-12gb', name: 'انتر 12 جيجا فورجي دفع مسبق', price: 4520 },\n    { id: 'sb-dp-4g-inter-7gb', name: 'انتر 7 جيجا فورجي دفع مسبق', price: 3420 },\n    { id: 'sb-dp-4g-inter-6gb', name: 'انتر 6 جيجا فورجي دفع مسبق', price: 2260 },\n    { id: 'sb-dp-4g-inter-week-2gb', name: 'أنتر فورجي الأسبوعية 2 جيجا- دفع مسبق', price: 990 },\n    { id: 'sb-dp-4g-inter-day-1.5gb', name: 'أنتر فورجي اليومية 1.5 جيجا- دفع مسبق', price: 500 },\n    { id: 'sb-dp-4g-hybrid-month', name: 'هايبرد فورجي الشهرية -دفع مسبق', price: 3350 },\n    { id: 'sb-dp-4g-hybrid-week', name: 'هايبرد فورجي الاسبوعيه - دفع مسبق', price: 1400 },\n    { id: 'sb-dp-4g-safari-4h', name: 'سفري 4 ساعات فورجي - دفع مسبق', price: 193 },\n    { id: 'sb-dp-4g-safari-8h', name: 'سفري 8 ساعات فورجي - دفع مسبق', price: 291 },\n    { id: 'sb-dp-4g-inter-4gb', name: 'انتر 4 جيجا فورجي- دفع مسبق', price: 1940 },\n    { id: 'sb-dp-inter-layali', name: 'انتر ليالي دفع مسبق', price: 944 },\n    { id: 'sb-dp-4g-inter-15gb', name: 'انتر فورجي 15 جيجا دفع مسبق', price: 7260 },\n    { id: 'sb-dp-4g-yb-month', name: 'يابلاش فورجي الشهرية - دفع مسبق', price: 2390 },\n    { id: 'sb-dp-4g-yb-10days', name: 'يابلاش فورجي 10 أيام دفع مسبق', price: 1330 },\n    { id: 'sb-dp-4g-yb-2days', name: 'يابلاش فورجي يومين - دفع مسبق', price: 'حسب الطلب' }, // No price given\n    // فوترة (Postpaid) - Can be filtered out or handled differently if needed\n    { id: 'sb-post-yb-month', name: 'فوترة يابلاش الشهرية', price: 1210, category: 'فوترة' },\n    { id: 'sb-post-yb-kalam', name: 'فوترة يابلاش كلام', price: 1210, category: 'فوترة' },\n    { id: 'sb-post-wahed-month', name: 'فوترة باقة واحد الشهرية لكل الشبكات', price: 1513, category: 'فوترة' },\n    { id: 'sb-post-yb-superplus', name: 'فوترة يابلاش سوبر بلاس الشهرية', price: 3025, category: 'فوترة' },\n    { id: 'sb-post-whatsapp-week', name: 'فوترة واتساب الأسبوعية', price: 484, category: 'فوترة' },\n    { id: 'sb-post-fb-twitter', name: 'فوترة فيسبوك +تويتر الاسبوعية', price: 484, category: 'فوترة' },\n    { id: 'sb-post-fb-plus-month', name: 'فوترة فيسبوك بلاس الشهرية', price: 1210, category: 'فوترة' },\n    { id: 'sb-post-tawasol-extra', name: 'فوترة تواصل اكسترا', price: 1029, category: 'فوترة' },\n    { id: 'sb-post-tawasol-month', name: 'فوترة تواصل الشهرية', price: 1997, category: 'فوترة' },\n    { id: 'sb-post-supernet-day', name: 'فوترة سوبرنت اليومية', price: 484, category: 'فوترة' },\n    { id: 'sb-post-supernet-1', name: 'فوترة سوبرنت 1', price: 1210, category: 'فوترة' },\n    { id: 'sb-post-supernet-2', name: 'فوترة سوبرنت 2', price: 1815, category: 'فوترة' },\n    { id: 'sb-post-supernet-3', name: 'فوترة سوبرنت3', price: 3025, category: 'فوترة' },\n    { id: 'sb-post-supernet-4', name: 'فوترة سوبرنت 4', price: 4840, category: 'فوترة' },\n    { id: 'sb-post-msg-200', name: 'فوترة 200 رسالة', price: 484, category: 'فوترة' },\n    { id: 'sb-post-msg-600', name: 'فوترة 600 رسالة', price: 726, category: 'فوترة' },\n    { id: 'sb-post-whatsapp-plus-month', name: 'فوترة واتساب بلاس الشهرية', price: 1573, category: 'فوترة' },\n    { id: 'sb-post-gsm-month', name: 'فوترة جي اس ام الشهرية', price: 1936, category: 'فوترة' },\n    { id: 'sb-post-whatsapp-plus', name: 'باقة واتساب بلاس فوترة', price: 1210, category: 'فوترة' },\n    { id: 'sb-post-gsm-allnet', name: 'باقة جي اس ام الشهرية لجميع شبكات الجي اس ام', price: 1936, category: 'فوترة' },\n    { id: 'sb-post-4g-inter-12gb', name: 'انتر 12 جيجا فورجي فوتره', price: 4520, category: 'فوترة' },\n    { id: 'sb-post-4g-inter-7gb', name: 'انتر 7 جيجا فورجي فوتره', price: 3420, category: 'فوترة' },\n    { id: 'sb-post-4g-inter-6gb', name: 'انتر 6 جيجا فورجي فوتره', price: 2260, category: 'فوترة' },\n    { id: 'sb-post-4g-inter-week-2gb', name: 'أنتر فورجي الأسبوعية 2 جيجا- فوترة', price: 990, category: 'فوترة' },\n    { id: 'sb-post-4g-inter-day-1.5gb', name: 'أنتر فورجي اليومية 1.5 جيجا- فوترة', price: 500, category: 'فوترة' },\n    { id: 'sb-post-4g-hybrid-month', name: 'هايبرد فورجي الشهرية- فوترة', price: 3350, category: 'فوترة' },\n    { id: 'sb-post-4g-safari-4h', name: 'سفري 4 ساعات فورجي - فوترة', price: 193, category: 'فوترة' },\n    { id: 'sb-post-4g-safari-8h', name: 'سفري 8 ساعات فورجي - فوترة', price: 291, category: 'فوترة' },\n    { id: 'sb-post-4g-inter-4gb', name: 'انتر 4 جيجا فورجي - فوترة', price: 1940, category: 'فوترة' },\n    { id: 'sb-post-inter-layali', name: 'انتر ليالي - فوترة', price: 944, category: 'فوترة' },\n    { id: 'sb-post-4g-inter-15gb', name: 'انتر فورجي 15 جيجا فوترة', price: 7260, category: 'فوترة' },\n    { id: 'sb-post-4g-yb-month', name: 'يابلاش فورجي الشهرية - فوترة', price: 2390, category: 'فوترة' },\n    // Fallback for direct recharge if needed\n    { id: 'sb-direct-recharge', name: 'تعبئة رصيد مباشر', price: 'حسب المبلغ', description: 'أدخل مبلغ التعبئة' },\n  ],\n  'YOU': [\n    // باقات سوى\n    { id: 'you-sawa-250-300', name: 'سوا 250 دقيقة 300 رسالة الشهرية', price: 1815, category: 'باقات سوى' },\n    // باقات التواصل الاجتماعية\n    { id: 'you-social-daily', name: 'توفير اليومية', price: 496, category: 'باقات التواصل الاجتماعية' },\n    { id: 'you-whatsapp-unlimited', name: 'واتساب بلاحدود', price: 484, category: 'باقات التواصل الاجتماعية' },\n    // باقات مكس المميزة الشهرية\n    { id: 'you-mix-plus', name: 'مكس بلس', price: 1513, category: 'باقات مكس المميزة الشهرية' },\n    { id: 'you-mix-300-400-100', name: 'مكس (300دقيقة 400 رسالة 100 ميجا ) دفع مسبق', price: 1250, category: 'باقات مكس المميزة الشهرية' },\n    { id: 'you-mix-600-700-300', name: 'مكس (600 دقيقة - 700 رسالة - 300 ميجا ) دفع مسبق', price: 2420, category: 'باقات مكس المميزة الشهرية' },\n    { id: 'you-mix-weekly', name: 'مكس الاسبوعية', price: 496, category: 'باقات مكس المميزة الشهرية' },\n    // باقات اتصال مكالمات فقط\n    { id: 'you-calls-400', name: 'مكالمات 400 دقيقة', price: 1210, category: 'باقات اتصال مكالمات فقط' },\n    { id: 'you-calls-600-weekly', name: 'مكالمات 600 دقيقة الأسبوعية', price: 1004, category: 'باقات اتصال مكالمات فقط' },\n    // باقات رسائل\n    { id: 'you-sms-750', name: 'باقة رسايل 750 رسالة', price: 1210, category: 'باقات رسائل' },\n    // باقات فورجي\n    { id: 'you-4g-smart-0.5gb-24h', name: 'سمارت 0.5 جيجا فورجي (24 ساعة )', price: 266, category: 'باقات فورجي' },\n    { id: 'you-4g-smart-1gb-48h', name: 'سمارت 1 جيجا فورجي (48 ساعة)', price: 484, category: 'باقات فورجي' },\n    { id: 'you-4g-smart-5gb-14d', name: 'سمارت 5 جيجا فورجي (14 يوم)', price: 2420, category: 'باقات فورجي' },\n    { id: 'you-4g-smart-8gb-30d', name: 'سمارت 8 جيجا فورجي( 30 يوم)', price: 3485, category: 'باقات فورجي' },\n    { id: 'you-4g-mix-1.5gb-72h', name: 'مكس 1.5 جيجا فورجي( 72 ساعة )', price: 962, category: 'باقات فورجي' },\n    { id: 'you-4g-mix-6gb-30d', name: 'مكس 6 جيجا فورجي (30 يوم)', price: 3412, category: 'باقات فورجي' },\n    { id: 'you-4g-smart-3gb', name: 'سمارت 3 جيجا فورجي', price: 1452, category: 'باقات فورجي' },\n    { id: 'you-4g-mix-30gb', name: 'مكس 30 جيجا فورجي', price: 14714, category: 'باقات فورجي' },\n    { id: 'you-4g-wafer-9gb', name: 'وفر 9 جيجا فورجي', price: 3485, category: 'باقات فورجي' },\n    { id: 'you-4g-wafer-plus-10gb', name: 'باقة وفر بلس 10 جيجا 4G-فورجي', price: 2500, category: 'باقات فورجي' },\n    { id: 'you-4g-mix-monthly-10gb', name: 'باقة مكس الشهرية 10 جيجا فورجي', price: 5990, category: 'باقات فورجي' },\n    // باقة سمارت نت\n    { id: 'you-smartnet-2gb-weekly', name: 'باقة 2 جيجاالأسبوعية', price: 1210, category: 'باقة سمارت نت' },\n    { id: 'you-smartnet-postpaid-500mb', name: 'فوترة 500 ميجا', price: 1210, category: 'باقة سمارت نت' }, // Assuming this is related to smartnet\n    { id: 'you-smartnet-2g-1gb-monthly-dp', name: 'باقه توجي سمارت نت1جيجا الشهرية دفع مسبق', price: 1210, category: 'باقة سمارت نت' },\n    { id: 'you-smartnet-4g-20gb', name: 'باقة سمارت 20 جيجا 4G-فورجي', price: 9680, category: 'باقة سمارت نت' },\n    // باقات الربط الموحد\n    { id: 'you-unified-4gmax-12gb', name: 'باقة السعر الموحد فورجي ماكس 12جيجا', price: 9874, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-4gmax-5gb', name: 'باقة السعر الموحد فورجي ماكس 5جيجا', price: 5445, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-mix-10000', name: 'باقة السعر الموحد مكس 10000', price: 9862, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-mix-5000', name: 'باقة السعر الموحد مكس 5000', price: 4901, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-4g-4gb', name: 'باقه السعر الموحد 4 جيجا فورجي', price: 2904, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-wafer-plus-10gb', name: 'باقة وفر بلس 10 جيجا السعر الموحد', price: 2500, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-sawa-300', name: 'باقة سوا 300 السعر الموحد', price: 2904, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-smart-4g-daily', name: 'باقه السعر الموحد سمارت فورجي اليوميه', price: 1815, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-smart-4g-weekly', name: 'باقه السعر الموحد سمارت فورجي الاسبوعيه', price: 2251, category: 'باقات الربط الموحد' },\n    { id: 'you-unified-smart-4g-15gb', name: 'فورجي سمارت15جيجا - السعر الموحد', price: 12705, category: 'باقات الربط الموحد' },\n    // باقات هلال فورجي\n    { id: 'you-hilal-4g-1gb', name: 'باقة هلال 1جيجا فورجي', price: 300, category: 'باقات هلال فورجي' },\n    { id: 'you-hilal-4g-2gb', name: 'باقة هلال 2جيجا فورجي', price: 500, category: 'باقات هلال فورجي' },\n    { id: 'you-hilal-4g-3gb', name: 'باقة هلال 3جيجا فورجي', price: 699, category: 'باقات هلال فورجي' },\n    // Direct Recharge fallback\n    { id: 'you-direct-recharge', name: 'تعبئة رصيد YOU', price: 'حسب المبلغ', description: 'أدخل مبلغ التعبئة' },\n ],\n   'واي': [\n    { id: 'y1', name: 'باقة واي شباب الأسبوعية', price: 600, description: '2GB بيانات ومكالمات داخل الشبكة' },\n     { id: 'y3', name: 'تعبئة رصيد Y', price: 'حسب المبلغ', description: 'أدخل مبلغ التعبئة' },\n  ],\n  'الهاتف الأرضي': [\n    { id: 'll1', name: 'تسديد فاتورة الهاتف الثابت', price: 'حسب الفاتورة', description: 'سيتم جلب مبلغ الفاتورة تلقائياً' },\n  ],\n  'ADSL': [\n    { id: 'adsl1', name: 'تجديد اشتراك ADSL الشهري', price: 'حسب الفاتورة', description: 'سيتم جلب مبلغ التجديد تلقائياً' },\n  ],\n};\n\n\n// Function to call the Firebase Cloud Function\nconst callRechargeFunction = async (payload: {\n    phoneNumber: string;\n    amount?: number;\n    packageId?: string;\n    operator: string;\n    userId: string;\n    token: string; // Firebase Auth ID token\n}) => {\n    // Replace with your actual Firebase Cloud Function URL\n    // Find this in your Firebase console: Functions -> Dashboard -> Trigger URL for 'recharge'\n    // Or if using emulators: http://localhost:5001/your-project-id/your-region/recharge\n    const functionUrl = process.env.NEXT_PUBLIC_RECHARGE_FUNCTION_URL || 'http://127.0.0.1:5001/nextn-a3266/us-central1/recharge'; // Replace or use environment variable\n\n    if (functionUrl === 'YOUR_RECHARGE_FUNCTION_URL_HERE') {\n         console.error(\"Recharge function URL is not configured. Please set NEXT_PUBLIC_RECHARGE_FUNCTION_URL environment variable or replace the placeholder.\");\n         throw new Error(\"Recharge endpoint not configured.\");\n     }\n\n    console.log(\"Calling recharge function at:\", functionUrl);\n    console.log(\"Payload being sent:\", { ...payload, token: 'HIDDEN' }); // Don't log the token\n\n    const response = await fetch(functionUrl, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${payload.token}` // Send Firebase Auth token\n        },\n        body: JSON.stringify({\n            phoneNumber: payload.phoneNumber,\n            amount: payload.amount,\n            packageId: payload.packageId,\n            operator: payload.operator,\n            userId: payload.userId\n        }),\n    });\n\n    const responseData = await response.json();\n\n    if (!response.ok) {\n        // Throw an error with the message from the backend if available\n        throw new Error(responseData.error || `Request failed with status ${response.status}`);\n    }\n\n    return responseData; // Contains { success: boolean, message: string, ... }\n};\n\n\nexport default function RechargePage() {\n  const [phoneNumber, setPhoneNumber] = React.useState('');\n  const [detectedOperator, setDetectedOperator] = React.useState<string | null>(null);\n  const [operatorLogo, setOperatorLogo] = React.useState<string | null>(null);\n  const [showPackages, setShowPackages] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isFetchingPackages, setIsFetchingPackages] = React.useState(false);\n  const [activeButtonId, setActiveButtonId] = React.useState<string | null>(null);\n  const { toast } = useToast();\n  const [currentUser, setCurrentUser] = React.useState<User | null>(null); // Store Firebase user with User type\n  const [idToken, setIdToken] = React.useState<string | null>(null); // Store ID token\n\n  // --- Simulate Balance State ---\n  // Replace this with actual state management fetching from backend or context\n  const [currentBalance, setCurrentBalance] = React.useState(5000); // Example starting balance\n\n  // Function to fetch user's balance from backend (replace with actual API call)\n  const fetchBalance = async (userId: string) => {\n      // Example: Call your backend API to get balance\n      // const response = await fetch(`/api/user/${userId}/balance`);\n      // const data = await response.json();\n      // setCurrentBalance(data.balance);\n      console.log(\"Fetching balance for user (simulated):\", userId);\n      // For now, keep the simulated balance\n  };\n\n  // --- Firebase Auth Listener ---\n  React.useEffect(() => {\n      const auth = getAuth(firebaseApp);\n      const unsubscribe = onAuthStateChanged(auth, async (user) => {\n          if (user) {\n              setCurrentUser(user);\n              try {\n                  const token = await user.getIdToken(true); // Force refresh token\n                  setIdToken(token);\n                   console.log(\"User authenticated:\", user.uid);\n                   fetchBalance(user.uid); // Fetch balance when user is loaded\n              } catch (error) {\n                  console.error(\"Error getting ID token:\", error);\n                  toast({\n                      title: \"خطأ في المصادقة\",\n                      description: \"لا يمكن التحقق من هويتك. حاول تسجيل الدخول مرة أخرى.\",\n                      variant: \"destructive\",\n                  });\n                  setIdToken(null);\n                  setCurrentUser(null);\n              }\n          } else {\n              console.log(\"User not authenticated.\");\n              setCurrentUser(null);\n              setIdToken(null);\n              // Optionally redirect to login if required on this page\n              // router.push('/login');\n          }\n      });\n\n      // Cleanup subscription on unmount\n      return () => unsubscribe();\n  }, [toast]); // Add toast to dependencies\n  // ------------------------------\n\n\n  const detectOperator = (number: string) => {\n    let foundOperator: string | null = null;\n    let logoPath: string | null = null;\n\n     // Prioritize mobile prefixes\n    for (const operator of ['يمن موبايل', 'سبأفون', 'YOU', 'واي']) {\n      for (const prefix of operatorPrefixes[operator]) {\n        if (number.startsWith(prefix)) {\n          foundOperator = operator;\n          logoPath = operatorLogos[foundOperator] || null;\n          break;\n        }\n      }\n      if (foundOperator) break;\n    }\n\n     // If no mobile operator found, check for landline/ADSL (based on '0' prefix)\n     if (!foundOperator && number.startsWith('0') && number.length >= 2) {\n         const areaCodePrefix = number.substring(0, 2); // e.g., '01', '02'\n         if (operatorPrefixes['الهاتف الأرضي'].includes(areaCodePrefix)) {\n             foundOperator = 'الهاتف الأرضي'; // Default to Landline\n             logoPath = operatorLogos[foundOperator] || operatorLogos['ADSL'] || null;\n         }\n     }\n\n\n    setDetectedOperator(foundOperator);\n    setOperatorLogo(logoPath);\n\n    if (foundOperator) {\n        setShowPackages(true);\n        setIsFetchingPackages(true);\n        // Simulate loading packages\n        setTimeout(() => setIsFetchingPackages(false), 500);\n    } else {\n        setShowPackages(false);\n    }\n  };\n\n\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const value = event.target.value.replace(/[^0-9]/g, ''); // Allow only numbers\n    setPhoneNumber(value);\n    if (value.length >= 2) {\n      detectOperator(value);\n    } else {\n      setDetectedOperator(null);\n      setOperatorLogo(null);\n      setShowPackages(false);\n    }\n  };\n\n const handleRechargeClick = async (pkg: PackageInfo) => {\n     console.log(\"handleRechargeClick triggered for package:\", pkg.name);\n     console.log(\"Current User:\", currentUser?.uid);\n     console.log(\"ID Token available:\", !!idToken);\n\n     // --- Authentication Check ---\n     if (!currentUser || !idToken) {\n         console.error(\"Authentication check failed: User or ID token is missing.\");\n         toast({\n             title: \"المصادقة مطلوبة\",\n             description: \"يرجى تسجيل الدخول أولاً لتتمكن من الشحن.\",\n             variant: \"destructive\",\n         });\n         return;\n     }\n      console.log(\"Authentication check passed.\");\n\n    // --- Balance Check ---\n    const packagePrice = typeof pkg.price === 'number' ? pkg.price : 0; // Handle non-numeric prices\n\n    if (packagePrice <= 0) {\n         console.error(\"Package price check failed: Price is invalid or zero.\", pkg.price);\n         toast({\n             title: \"خطأ\",\n             description: \"لا يمكن شحن هذه الباقة حالياً (السعر غير محدد).\",\n             variant: \"destructive\",\n         });\n         return;\n     }\n      console.log(\"Package price check passed:\", packagePrice);\n\n\n     // Fetch fresh balance before recharge maybe? Or rely on backend check.\n     // For now, use the state balance for client-side check.\n    if (currentBalance < packagePrice) {\n        console.warn(`Balance check failed: Current balance (${currentBalance}) is less than package price (${packagePrice}).`);\n        toast({\n            title: \"رصيد غير كافٍ\",\n            description: `رصيدك الحالي (${currentBalance} ريال) غير كافٍ لشحن هذه الباقة (${packagePrice} ريال).`,\n            variant: \"destructive\",\n        });\n        return; // Stop execution if balance is insufficient\n    }\n    console.log(\"Balance check passed.\");\n    // ---------------------\n\n    setActiveButtonId(pkg.id);\n    setIsLoading(true);\n    console.log(`Attempting to recharge package: ${pkg.name} for number: ${phoneNumber}. Cost: ${packagePrice}. Balance: ${currentBalance}. User: ${currentUser.uid}`);\n    toast({\n      title: \"بدء عملية الشحن\",\n      description: `جاري شحن ${pkg.name} للرقم ${phoneNumber}...`,\n      variant: 'default', // Use default (primary) style\n    });\n\n    // --- Call Firebase Cloud Function ---\n    try {\n        const result = await callRechargeFunction({\n            phoneNumber: phoneNumber,\n            // amount: amount, // Include amount if it's a direct recharge\n            packageId: pkg.id, // Send package ID\n            operator: detectedOperator!, // Should be detected if we reach here\n            userId: currentUser.uid,\n            token: idToken,\n        });\n\n        console.log(\"Cloud Function response:\", result);\n\n        // Handle success from the Cloud Function\n        toast({\n            title: \"نجاح العملية\",\n            description: result.message || `تم شحن ${pkg.name} بنجاح للرقم ${phoneNumber}!`,\n            variant: \"default\",\n        });\n\n        // --- Update Frontend Balance (Simulated) ---\n        // In a real app, the backend might return the new balance, or you'd refetch it.\n        if (result.success && result.newBalance !== undefined) {\n             setCurrentBalance(result.newBalance);\n        } else {\n             // Fallback: Deduct locally or refetch\n             setCurrentBalance(prev => prev - packagePrice);\n             // Or: fetchBalance(currentUser.uid);\n        }\n        // Optionally clear phone number\n        // setPhoneNumber('');\n        // setDetectedOperator(null);\n        // setShowPackages(false);\n\n    } catch (error: any) {\n        console.error('Recharge function call failed:', error);\n        toast({\n            title: \"فشل العملية\",\n            // Use error message from the backend function if available\n            description: error.message || `فشل شحن ${pkg.name}. يرجى المحاولة لاحقاً.`,\n            variant: \"destructive\",\n        });\n         // Check if the error indicates insufficient balance from the backend\n         if (error.message?.toLowerCase().includes('insufficient balance')) {\n             // Optionally update local balance if backend provides it\n             // if (error.currentBalance !== undefined) setCurrentBalance(error.currentBalance);\n         }\n\n    } finally {\n        // Ensure loading state is always reset\n        setIsLoading(false);\n        setActiveButtonId(null);\n    }\n  };\n\n  // Group packages by category for rendering\n  const groupedPackages = React.useMemo(() => {\n      if (!detectedOperator || !packagesData[detectedOperator]) return {};\n       // Filter out 'فوترة' packages unless specific logic is added to handle them\n       const filteredPackages = packagesData[detectedOperator].filter(pkg => pkg.category !== 'فوترة');\n\n      return filteredPackages.reduce((acc, pkg) => {\n          const category = pkg.category || 'عام'; // Default category if none provided\n          if (!acc[category]) {\n              acc[category] = [];\n          }\n          acc[category].push(pkg);\n          return acc;\n      }, {} as Record<string, PackageInfo[]>);\n  }, [detectedOperator]);\n\n\n  return (\n     // Background: Light Grey (#F7F9FA), Text: Dark Grey (#333333)\n    <div className=\"flex min-h-screen flex-col bg-background text-foreground\">\n       {/* Header - Use primary color */}\n       <header className=\"sticky top-0 z-40 flex h-16 items-center justify-between bg-primary px-4 py-2 text-primary-foreground shadow-md\">\n         {/* Back button to /services */}\n        <Link href=\"/services\" passHref>\n          <Button variant=\"ghost\" size=\"icon\" className=\"text-primary-foreground hover:bg-primary/80\">\n            <ArrowRight className=\"h-5 w-5\" />\n            <span className=\"sr-only\">رجوع</span>\n          </Button>\n        </Link>\n         {/* Title - Use primary-foreground color */}\n        <h1 className=\"text-lg font-medium\">التعبئة</h1>\n        <div className=\"w-10\"></div> {/* Placeholder to balance */}\n      </header>\n\n      {/* Main Content Area */}\n        <main className=\"flex-1 space-y-4 p-4 pt-6 md:p-6 md:pt-8\"> {/* Padding: 16px */}\n         {/* Phone Number Input Container */}\n         <div className=\"relative flex items-center\">\n            {/* Input field: Use input styles */}\n            <Input\n              type=\"tel\"\n              placeholder=\"أدخل رقم الهاتف أو الأرضي\"\n              value={phoneNumber}\n              onChange={handleInputChange}\n               className={cn(\n                 \"h-12 w-full rounded-[8px] border border-border bg-input py-3 pl-4 pr-12 text-lg shadow-sm placeholder:text-muted-foreground focus:border-primary focus:ring-1 focus:ring-primary text-foreground\", // Use theme colors\n                 \"text-right\" // Align text to the right for RTL numbers\n              )}\n              maxLength={15}\n               dir=\"ltr\" // Keep LTR for number input behavior\n            />\n            {/* Operator Logo - Positioned inside input field (right side) */}\n            {operatorLogo && (\n                   <div className=\"absolute right-3 top-1/2 h-8 w-8 -translate-y-1/2 transform overflow-hidden rounded-md\"> {/* 32x32px */}\n                    <Image src={operatorLogo} alt={detectedOperator || 'Operator'} width={32} height={32} className=\"object-contain\" />\n                  </div>\n            )}\n        </div>\n\n         {/* Operator/Error Message */}\n         {phoneNumber.length >= 2 && !detectedOperator && (\n           <p className=\"text-center text-sm text-destructive\">المشغل غير مدعوم حالياً.</p> // Destructive text color\n        )}\n\n        {/* Package List Section */}\n         {showPackages && detectedOperator && (\n           <div className=\"mt-4\">\n              <h2 className=\"mb-3 text-center text-base font-semibold text-foreground\">\n                 <Package className=\"inline-block h-5 w-5 mr-2 align-middle text-foreground\"/>\n                 باقات {detectedOperator} المتاحة\n             </h2>\n                <ScrollArea className=\"h-[calc(100vh-280px)]\"> {/* Adjust height */}\n                 {isFetchingPackages ? (\n                      <div className=\"flex justify-center items-center p-10\">\n                        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" /> {/* Use primary color for spinner */}\n                      </div>\n                 ) : Object.keys(groupedPackages).length > 0 ? (\n                     <div className=\"space-y-4\"> {/* Space between categories */}\n                         {Object.entries(groupedPackages).map(([category, pkgs]) => (\n                             <div key={category}>\n                                 {/* Category Title */}\n                                 {category !== 'عام' && (\n                                     <h3 className=\"mb-2 px-1 text-base font-medium text-muted-foreground\">{category}</h3> // Use muted-foreground\n                                 )}\n                                 <div className=\"space-y-2\"> {/* Space between packages (8px) */}\n                                     {pkgs.map((pkg) => (\n                                         // Package Card: Use card styles\n                                         <Card key={pkg.id} className=\"overflow-hidden rounded-[12px] bg-card p-3 shadow-md transition-transform duration-150 ease-in-out active:scale-[0.98] active:shadow active:translate-y-[2px]\">\n                                             <div className=\"flex items-center justify-between gap-3\">\n                                                 {/* Package details */}\n                                                 <div className=\"flex-1 space-y-1 text-right\">\n                                                     {/* Package Name: Use card-foreground */}\n                                                     <p className=\"text-base font-semibold text-card-foreground\">{pkg.name}</p>\n                                                     {/* Description: Use muted-foreground */}\n                                                     {pkg.description && <p className=\"text-xs text-muted-foreground\">{pkg.description}</p>}\n                                                     {/* Price: Use primary color */}\n                                                     <p className=\"text-sm font-medium text-primary flex items-center justify-end gap-1 pt-1\">\n                                                         <CircleDollarSign className=\"h-4 w-4\" />\n                                                         {typeof pkg.price === 'number' && pkg.price > 0\n                                                             ? `${pkg.price} ريال`\n                                                             : pkg.price}\n                                                     </p>\n                                                 </div>\n                                                 {/* Recharge Button: Use accent color */}\n                                                 <Button\n                                                     size=\"sm\"\n                                                     variant=\"accent\" // Use accent variant\n                                                     className=\"px-4 py-1.5 text-sm font-medium shadow-sm h-auto rounded-[8px] transition-all\" // Add base styles\n                                                     onClick={() => handleRechargeClick(pkg)}\n                                                     disabled={isLoading && activeButtonId === pkg.id}\n                                                 >\n                                                     {(isLoading && activeButtonId === pkg.id) ? (\n                                                         <Loader2 className=\"h-4 w-4 animate-spin\" />\n                                                     ) : (\n                                                         'اشحن الآن'\n                                                     )}\n                                                 </Button>\n                                             </div>\n                                         </Card>\n                                     ))}\n                                 </div>\n                             </div>\n                         ))}\n                     </div>\n                 ) : (\n                      // No packages message: Use muted-foreground\n                      <p className=\"p-6 text-center text-muted-foreground\">لا توجد باقات متاحة حالياً لهذا المشغل.</p>\n                 )}\n                </ScrollArea>\n           </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}